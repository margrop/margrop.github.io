<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>如何通过 NPM 安装 Node-RED - 魔都水滴</title>
<meta name="description" content="Node-RED是什么 Node-RED是一种低代码/无代码编程工具，用于以新颖有趣的方式将硬件设备，API和在线服务连接在一起。特别适用于智能家居。 Node-RED提供了一个基于浏览器的流编辑器，可轻松使用面板中的各种节点将流连接在一起。然后，单击即可将流部署到运行时。">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://blog.margrop.net/post/how-to-install-nodered-with-npm/">

<meta property="og:site_name" content="魔都水滴">
<meta property="og:title" content="如何通过 NPM 安装 Node-RED - 魔都水滴">
<meta property="og:description" content="Node-RED是什么 Node-RED是一种低代码/无代码编程工具，用于以新颖有趣的方式将硬件设备，API和在线服务连接在一起。特别适用于智能家居。 Node-RED提供了一个基于浏览器的流编辑器，可轻松使用面板中的各种节点将流连接在一起。然后，单击即可将流部署到运行时。">
<meta property="og:url" content="https://blog.margrop.net/post/how-to-install-nodered-with-npm/">
<meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="og:image" content="https://blog.margrop.net/images/avatar.png"><meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="如何通过 NPM 安装 Node-RED - 魔都水滴">
<meta name="twitter:description" content="Node-RED是什么 Node-RED是一种低代码/无代码编程工具，用于以新颖有趣的方式将硬件设备，API和在线服务连接在一起。特别适用于智能家居。 Node-RED提供了一个基于浏览器的流编辑器，可轻松使用面板中的各种节点将流连接在一起。然后，单击即可将流部署到运行时。"><meta name="twitter:image" content="https://blog.margrop.net/images/avatar.png"><meta property="article:published_time" content="2021-02-01T09:57:07&#43;08:00">
<meta property="article:modified_time" content="2021-02-01T09:57:07&#43;08:00"><meta property="article:tag" content="node"><meta property="article:tag" content="npm"><meta property="article:tag" content="nodejs"><meta property="article:tag" content="node-red"><meta property="article:tag" content="linux"><meta property="article:tag" content="centos"><meta property="article:tag" content="os"><meta property="article:tag" content="API"><meta property="article:tag" content="low-code"><meta property="article:tag" content="browser"><meta property="article:tag" content="浏览器"><meta property="article:tag" content="智能家居"><meta property="article:tag" content="模块"><meta property="article:tag" content="流程"><meta property="article:tag" content="flow"><meta property="article:tag" content="安装"><meta property="article:tag" content="启动"><meta property="article:tag" content="升级"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"魔都水滴"},"dateModified":"2021-02-01T09:57:07+08:00","datePublished":"2021-02-01T09:57:07+08:00","description":"Node-RED是什么 Node-RED是一种低代码/无代码编程工具，用于以新颖有趣的方式将硬件设备，API和在线服务连接在一起。特别适用于智能家居。 Node-RED提供了一个基于浏览器的流编辑器，可轻松使用面板中的各种节点将流连接在一起。然后，单击即可将流部署到运行时。","headline":"如何通过 NPM 安装 Node-RED","mainEntityOfPage":"https://blog.margrop.net/post/how-to-install-nodered-with-npm/","url":"https://blog.margrop.net/post/how-to-install-nodered-with-npm/"}</script>
    <meta name="baidu-site-verification" content="code-sVFZ8SER59" />
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3J2W592DHJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-3J2W592DHJ');
    </script>
    
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; line-height: 1.8; }
        h1 { border-bottom: 2px solid #333; padding-bottom: 10px; }
        .meta { color: #666; font-size: 14px; margin-bottom: 20px; }
        .content { line-height: 1.8; }
        .content code { background: #f4f4f4; padding: 2px 5px; border-radius: 3px; }
        .content pre { background: #f4f4f4; padding: 15px; overflow-x: auto; border-radius: 5px; }
        .content img { max-width: 100%; height: auto; }
        .tags { margin-top: 30px; }
        .tag { background: #eee; padding: 2px 8px; border-radius: 3px; font-size: 12px; margin-right: 5px; }
        nav { margin-bottom: 30px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
        nav a { margin-right: 20px; text-decoration: none; color: #333; font-size: 16px; }
        nav a:hover { color: #006CFF; }
        a { color: #006CFF; }
    </style>
</head>
<body>
    <nav>
  <a href="/">首页</a>
  <a href="/post/">归档</a>
  <a href="/tags/">标签</a>
  <a href="/post/about">关于</a>
  <a href="https://download.margrop.net" target="_blank">下载</a>
  <a href="/post/favorites">Link</a>
  <a href="/post/github-project-stars">Github</a>
  <a href="https://github-mirrors.margrop.net" target="_blank">Github加速</a>
  <a href="https://docker-mirrors.margrop.net" target="_blank">Docker加速</a>
</nav>

    <article>
        <h1>如何通过 NPM 安装 Node-RED</h1>
        <div class="meta">
            发布时间: 2021-02-01
            
            | 标签: 
            
                
                <a href="/tag/node"><span class="tag">node</span></a>
            
                
                <a href="/tag/npm"><span class="tag">npm</span></a>
            
                
                <a href="/tag/nodejs"><span class="tag">nodejs</span></a>
            
                
                <a href="/tag/node-red"><span class="tag">node-red</span></a>
            
                
                <a href="/tag/linux"><span class="tag">linux</span></a>
            
                
                <a href="/tag/centos"><span class="tag">centos</span></a>
            
                
                <a href="/tag/os"><span class="tag">os</span></a>
            
                
                <a href="/tag/api"><span class="tag">API</span></a>
            
                
                <a href="/tag/low-code"><span class="tag">low-code</span></a>
            
                
                <a href="/tag/browser"><span class="tag">browser</span></a>
            
                
                <a href="/tag/%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="tag">浏览器</span></a>
            
                
                <a href="/tag/%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85"><span class="tag">智能家居</span></a>
            
                
                <a href="/tag/%E6%A8%A1%E5%9D%97"><span class="tag">模块</span></a>
            
                
                <a href="/tag/%E6%B5%81%E7%A8%8B"><span class="tag">流程</span></a>
            
                
                <a href="/tag/flow"><span class="tag">flow</span></a>
            
                
                <a href="/tag/%E5%AE%89%E8%A3%85"><span class="tag">安装</span></a>
            
                
                <a href="/tag/%E5%90%AF%E5%8A%A8"><span class="tag">启动</span></a>
            
                
                <a href="/tag/%E5%8D%87%E7%BA%A7"><span class="tag">升级</span></a>
            
            
        </div>
        <div class="content">
            <h1 id="node-red是什么"><code>Node-RED</code>是什么</h1>
<p><code>Node-RED</code>是一种低代码/无代码编程工具，用于以新颖有趣的方式将<code>硬件设备</code>，<code>API</code>和<code>在线服务</code>连接在一起。特别适用于<code>智能家居</code>。</p>
<p><code>Node-RED</code>提供了一个基于浏览器的流编辑器，可轻松使用面板中的各种节点将流连接在一起。然后，单击即可将流部署到运行时。</p>
<blockquote>
<p>可以使用富文本编辑器在编辑器中创建<code>JavaScript</code>函数。
内置库允许您保存有用的功能，模板或流程以供重复使用。</p>
</blockquote>
<h2 id="建立在nodejs之上">建立在Node.js之上</h2>
<blockquote>
<p>基于<code>Node.js</code>构建，轻量级的运行环境，充分利用了事件驱动的非阻塞模型。这使得它非常适合在低成本的硬件（如<code>Raspberry Pi</code>）上的网络边缘以及云服务器运行。</p>
</blockquote>
<blockquote>
<p>Node的软件包存储库中有超过225,000个模块，可以轻松扩展面板节点的范围以添加新功能。</p>
</blockquote>
<h2 id="社交共享">社交共享</h2>
<blockquote>
<p>在<code>Node-RED</code>中创建的流使用<code>JSON</code>存储，可以轻松导入和导出以与他人共享。</p>
</blockquote>
<blockquote>
<p>在线流程库使您可以与世界分享最佳流程。</p>
</blockquote>
<h1 id="安装node和npm环境">安装Node和NPM环境</h1>
<ul>
<li>之前有写过<a href="https://blog.margrop.net/post/centos-7-install-node-and-npm-latest/"><code>CentOS 7 安装最新版本Node和NPM</code></a>，CentOS 7可以参考</li>
<li>其他Linux建议参考<a href="https://github.com/nodejs/help/wiki/Installation"><code>在 Linux 上，通过二进制文件安装 Node.js</code></a></li>
<li>其他OS建议参考<a href="https://github.com/nodejs/node/blob/master/BUILDING.md#building-nodejs-on-supported-platforms"><code>在支持的平台上，使用源代码构建 Node.js</code></a></li>
</ul>
<h1 id="使用npm安装">使用NPM安装</h1>
<p>要安装<code>Node-RED</code>，您可以使用<code>node.js</code>附带的<code>npm</code>命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo npm install -g --unsafe-perm node-red
</span></span></code></pre></div><p>该命令会将<code>Node-RED</code>及其依赖项安装为全局模块。
如果命令输出的结尾类似于以下内容，则可以确认它已成功：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>+ node-red@1.1.0
</span></span><span style="display:flex;"><span>added <span style="color:#ae81ff">332</span> packages from <span style="color:#ae81ff">341</span> contributors in 18.494s
</span></span><span style="display:flex;"><span>found <span style="color:#ae81ff">0</span> vulnerabilities
</span></span></code></pre></div><h1 id="运行node-red">运行Node-Red</h1>
<p>安装为全局模块后，您可以使用node-red命令在终端中启动Node-RED。您可以使用Ctrl-C或关闭终端窗口来停止Node-RED。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ node-red
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Welcome to Node-RED
</span></span><span style="display:flex;"><span><span style="color:#f92672">===================</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:39 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> Node-RED version: v1.1.0
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:39 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> Node.js  version: v10.21.0
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:39 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> Darwin 18.7.0 x64 LE
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:39 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> Loading palette nodes
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:44 - <span style="color:#f92672">[</span>warn<span style="color:#f92672">]</span> rpi-gpio : Raspberry Pi specific node set inactive
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:44 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> Settings file  : /Users/nol/.node-red/settings.js
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:44 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> HTTP Static    : /Users/nol/node-red/web
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:44 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> Context store  : <span style="color:#e6db74">&#39;default&#39;</span> <span style="color:#f92672">[</span>module<span style="color:#f92672">=</span>localfilesystem<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:44 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> User directory : /Users/nol/.node-red
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:44 - <span style="color:#f92672">[</span>warn<span style="color:#f92672">]</span> Projects disabled : set editorTheme.projects.enabled<span style="color:#f92672">=</span>true to enable
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:44 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> Creating new flows file : flows_noltop.json
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:44 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> Starting flows
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:44 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> Started flows
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> Jun 23:43:44 - <span style="color:#f92672">[</span>info<span style="color:#f92672">]</span> Server now running at http://127.0.0.1:1880/red/
</span></span></code></pre></div><p>然后，您可以通过将浏览器指向<code>http://localhost:1880</code>来访问<code>Node-RED</code>编辑器。</p>
<p>日志输出为您提供各种信息：</p>
<ul>
<li><code>Node-RED</code>和<code>Node.js</code>的版本</li>
<li>尝试加载调色板节点时遇到任何错误</li>
<li>设置文件和用户目录的位置</li>
<li>它正在使用的流文件的名称。
<code>Node-RED</code>使用<code>flows_&lt;hostname&gt;.json</code>作为默认流文件。您可以通过提供流文件名作为<code>node-red</code>命令的参数来更改此设置。</li>
</ul>
<h1 id="使用命令行">使用命令行</h1>
<p>可以使用命令启动Node-RED node-red。该命令可以使用各种参数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>node-red <span style="color:#f92672">[</span>-v<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-?<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--settings settings.js<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--userDir DIR<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>         <span style="color:#f92672">[</span>--port PORT<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--title TITLE<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--safe<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>flows.json|projectName<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>         <span style="color:#f92672">[</span>-D X<span style="color:#f92672">=</span>Y|@file<span style="color:#f92672">]</span>
</span></span></code></pre></div><table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>-p, &ndash;port</td>
<td>设置运行时侦听的TCP端口。默认：1880</td>
</tr>
<tr>
<td>&ndash;safe</td>
<td>在不启动流程的情况下启动Node-RED。<!-- raw HTML omitted -->这使您可以在编辑器中打开流并进行更改，而无需运行流。<!-- raw HTML omitted -->当您部署更改时，流程就开始了。</td>
</tr>
<tr>
<td>-s, &ndash;settings FILE</td>
<td>设置要使用的设置文件。默认值：<code>&lt;userDir&gt;/settings.js</code></td>
</tr>
<tr>
<td>&ndash;title TITLE</td>
<td>设置进程窗口标题</td>
</tr>
<tr>
<td>-u, &ndash;userDir DIR</td>
<td>设置要使用的用户目录。默认：<code>~/.node-red</code></td>
</tr>
<tr>
<td>-v</td>
<td>启用详细输出</td>
</tr>
<tr>
<td>-?, &ndash;help</td>
<td>显示命令行用法帮助并退出</td>
</tr>
<tr>
<td>flows.json</td>
<td>projectName</td>
</tr>
</tbody>
</table>
<p><code>Node-RED</code>使用<code>flows_&lt;hostname&gt;.json</code>作为默认流文件。如果运行的计算机可能会更改其主机名，则应确保提供一个静态文件名；作为命令行参数或使用设置文件中的flowsFile选项。</p>
<h1 id="如何升级node-red">如何升级Node-RED</h1>
<p>如果已将Node-RED作为全局npm软件包安装，则可以使用以下命令升级到最新版本：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo npm install -g --unsafe-perm node-red
</span></span></code></pre></div><h1 id="参考文章">参考文章</h1>
<p><a href="https://nodered.org/">Node-Red</a>
<a href="https://nodejs.org/zh-cn/download/">Node-JS</a>
<a href="https://nodered.org/docs/getting-started/local#installing-with-npm">Running Node-RED locally</a></p>
        </div>
    </article>
    
    
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js"></script>
<div id="gitalk-container" style="margin-top:40px"></div>
<script>
  (function(){
    var gitalk = new Gitalk({
      clientID: '3181fd94e501cc5db0ad',
      clientSecret: 'af1dab79dae02c69296e6615bfcecf47fc8615ee',
      repo: 'margropcomment.margrop.io',
      owner: 'margrop',
      admin: ["margrop"],
      
      id: '\/post\/how-to-install-nodered-with-npm\/',
      
      distractionFreeMode: false
    });
    gitalk.render('gitalk-container');
  })();
</script>
  



    <script type="text/javascript" src="https://js.users.51.la/21044367.js"></script>
    <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
    <script>LA.init({id: "1vVTUWl7zoRjnKXi",ck: "1vVTUWl7zoRjnKXi"})</script>
    <script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script>
    <script>
      new LingQue.Monitor().init({id:"202teQt8THXwqyve"});
    </script>
</body>
</html>
