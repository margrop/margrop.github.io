<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HomeAssistant：常用的 HACS，Github 第三方支持库 Repo - 魔都水滴</title>
<meta name="description" content="HACS HACS官方网站 https://github.com/hacs/integration https://hacs.xyz/ HACS安装文档 https://hacs.xyz/docs/installation/installation">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://blog.margrop.net/post/homeassistant-github-support-repo/">

<meta property="og:site_name" content="魔都水滴">
<meta property="og:title" content="HomeAssistant：常用的 HACS，Github 第三方支持库 Repo - 魔都水滴">
<meta property="og:description" content="HACS HACS官方网站 https://github.com/hacs/integration https://hacs.xyz/ HACS安装文档 https://hacs.xyz/docs/installation/installation">
<meta property="og:url" content="https://blog.margrop.net/post/homeassistant-github-support-repo/">
<meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="og:image" content="https://blog.margrop.net/images/avatar.png"><meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="HomeAssistant：常用的 HACS，Github 第三方支持库 Repo - 魔都水滴">
<meta name="twitter:description" content="HACS HACS官方网站 https://github.com/hacs/integration https://hacs.xyz/ HACS安装文档 https://hacs.xyz/docs/installation/installation"><meta name="twitter:image" content="https://blog.margrop.net/images/avatar.png"><meta property="article:published_time" content="2021-03-15T08:56:00&#43;08:00">
<meta property="article:modified_time" content="2021-03-15T08:56:00&#43;08:00"><meta property="article:tag" content="homeassistant"><meta property="article:tag" content="github"><meta property="article:tag" content="repo"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"魔都水滴"},"dateModified":"2021-03-15T08:56:00+08:00","datePublished":"2021-03-15T08:56:00+08:00","description":"HACS HACS官方网站 https://github.com/hacs/integration https://hacs.xyz/ HACS安装文档 https://hacs.xyz/docs/installation/installation","headline":"HomeAssistant：常用的 HACS，Github 第三方支持库 Repo","mainEntityOfPage":"https://blog.margrop.net/post/homeassistant-github-support-repo/","url":"https://blog.margrop.net/post/homeassistant-github-support-repo/"}</script>
    <meta name="baidu-site-verification" content="code-sVFZ8SER59" />
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3J2W592DHJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-3J2W592DHJ');
    </script>
    
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; line-height: 1.8; }
        h1 { border-bottom: 2px solid #333; padding-bottom: 10px; }
        .meta { color: #666; font-size: 14px; margin-bottom: 20px; }
        .content { line-height: 1.8; }
        .content code { background: #f4f4f4; padding: 2px 5px; border-radius: 3px; }
        .content pre { background: #f4f4f4; padding: 15px; overflow-x: auto; border-radius: 5px; }
        .content img { max-width: 100%; height: auto; }
        .tags { margin-top: 30px; }
        .tag { background: #eee; padding: 2px 8px; border-radius: 3px; font-size: 12px; margin-right: 5px; }
        nav { margin-bottom: 30px; }
        nav a { margin-right: 15px; text-decoration: none; color: #333; }
        nav a:hover { color: #006CFF; }
        a { color: #006CFF; }
    </style>
</head>
<body>
    <nav>
        <a href="/">首页</a>
        <a href="/post/">归档</a>
        <a href="/tag/">标签</a>
    </nav>
    <article>
        <h1>HomeAssistant：常用的 HACS，Github 第三方支持库 Repo</h1>
        <div class="meta">
            发布时间: 2021-03-15
            
            | 标签: 
            
                
                <a href="/tag/homeassistant"><span class="tag">homeassistant</span></a>
            
                
                <a href="/tag/github"><span class="tag">github</span></a>
            
                
                <a href="/tag/repo"><span class="tag">repo</span></a>
            
            
        </div>
        <div class="content">
            <h1 id="hacs">HACS</h1>
<ul>
<li>HACS官方网站</li>
</ul>
<blockquote>
<p><a href="https://github.com/hacs/integration">https://github.com/hacs/integration</a>
<a href="https://hacs.xyz/">https://hacs.xyz/</a></p>
</blockquote>
<ul>
<li>HACS安装文档</li>
</ul>
<blockquote>
<p><a href="https://hacs.xyz/docs/installation/installation">https://hacs.xyz/docs/installation/installation</a></p>
</blockquote>
<h1 id="亲测米家系列">亲测米家系列</h1>
<p>米家互联网空调，<code>zhimi.aircondition.ma3</code></p>
<blockquote>
<p><a href="https://github.com/margrop/zhimi">https://github.com/margrop/zhimi</a>
样例配置文件如下</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">climate</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">xiaomi_miio_airconditioningcompanionmcn02</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">主卧空调</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">host</span>: <span style="color:#ae81ff">192.168.1</span><span style="color:#ae81ff">.xxx</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">token</span>: <span style="color:#ae81ff">00000000996745e6373da0000000000</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">target_sensor</span>: <span style="color:#ae81ff">sensor.none</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">scan_interval</span>: <span style="color:#ae81ff">60</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">xiaomi_miio_airconditioningcompanionmcn02</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">次卧空调</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">host</span>: <span style="color:#ae81ff">192.168.1</span><span style="color:#ae81ff">.xxx</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">token</span>: <span style="color:#ae81ff">00000000eb4b89209de37fd00000000</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">target_sensor</span>: <span style="color:#ae81ff">sensor.none</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">scan_interval</span>: <span style="color:#ae81ff">60</span>
</span></span></code></pre></div><p>小米空调伴侣2，<code>lumi.acpartner.mcn02</code></p>
<blockquote>
<p><a href="https://github.com/EugeneLiu/xiaomi_airconditioningcompanionMCN02">https://github.com/EugeneLiu/xiaomi_airconditioningcompanionMCN02</a>
样例配置文件如下</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">climate</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">zhiair</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">客厅空调</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">host</span>: <span style="color:#ae81ff">192.168.1</span><span style="color:#ae81ff">.xxx</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">token</span>: <span style="color:#ae81ff">000000060cbdb81c632a6ea00000000</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">zhiair</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">儿童房空调</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">host</span>: <span style="color:#ae81ff">192.168.1</span><span style="color:#ae81ff">.xxx</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">token</span>: <span style="color:#ae81ff">0000000008a4efa9b0f3fb000000000</span>
</span></span></code></pre></div><p>小爱触屏音箱，钉钉群的消息提醒，<code>xiaomi.wifispeaker.lx04</code></p>
<blockquote>
<p><a href="https://github.com/Yonsm/ZhiMsg">https://github.com/Yonsm/ZhiMsg</a>
<a href="https://github.com/Yonsm/ZhiMi">https://github.com/Yonsm/ZhiMi</a>
<a href="https://github.com/Yonsm/ZhiBot">https://github.com/Yonsm/ZhiBot</a>
样例配置文件如下</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">zhimsg</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">ding</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">钉钉信使</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">token</span>: !<span style="color:#ae81ff">secret dingbot_token</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">secret</span>: !<span style="color:#ae81ff">secret dingbot_secret</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">miai</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">小爱触屏音箱</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">did</span>: <span style="color:#ae81ff">2671000000</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">model</span>: <span style="color:#ae81ff">lx04</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">zhibot</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">genie</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">miai</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">token</span>: !<span style="color:#ae81ff">secret zhibot_token</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">ding</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">token</span>: !<span style="color:#ae81ff">secret zhibot_token</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">ding</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">小爱触屏音响</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">token</span>: !<span style="color:#ae81ff">secret zhibot_token</span>
</span></span></code></pre></div><p>米家万能遥控器，<code>chuangmi.remote.v2</code></p>
<blockquote>
<p><a href="https://github.com/custom-components/remote_homeassistant">https://github.com/custom-components/remote_homeassistant</a>
样例配置文件如下</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">remote</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">xiaomi_miio</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">host</span>: <span style="color:#ae81ff">192.168.1</span><span style="color:#ae81ff">.xxx</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">token</span>: <span style="color:#ae81ff">0000000649a5afc10f6fc60b0000000</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">model</span>: <span style="color:#ae81ff">chuangmi.remote.v2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">万能遥控 SH</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">slot</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">timeout</span>: <span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">hidden</span>: <span style="color:#66d9ef">false</span>
</span></span></code></pre></div><p>米家智能插座基础版（WIFI），<code>chuangmi.plug.m1</code>，使用官方 <code>xiaomi_miio</code>即可</p>
<blockquote>
<p><a href="https://www.home-assistant.io/integrations/xiaomi_miio/">https://www.home-assistant.io/integrations/xiaomi_miio/</a>
样例配置文件如下</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">switch</span>: 
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">xiaomi_miio</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">N4插座SH主卧</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">host</span>: <span style="color:#ae81ff">192.168.1</span><span style="color:#ae81ff">.xxx</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">token</span>: <span style="color:#ae81ff">00000000c002be49862b1d1e00000000  </span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">model</span>: <span style="color:#ae81ff">chuangmi.plug.m1</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">platform</span>: <span style="color:#ae81ff">xiaomi_miio</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">N3插座SH主卧</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">host</span>: <span style="color:#ae81ff">192.168.1</span><span style="color:#ae81ff">.xxx</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">token</span>: <span style="color:#ae81ff">0000000016e418341ece619100000000  </span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">model</span>: <span style="color:#ae81ff">chuangmi.plug.m1</span>
</span></span></code></pre></div><h1 id="亲测天猫精灵和小度音箱">亲测天猫精灵和小度音箱</h1>
<blockquote>
<p>HAVCS全称为Home Assistant Voice Control Skill，诣在提供Home Assistant对接音箱平台的能力，通过在Home Assistant上运行本插件，可对接音箱厂家的技能开放平台（自建技能或用线上技能），响应音箱指令控制相关设备。
<a href="https://github.com/cnk700i/havcs">https://github.com/cnk700i/havcs</a></p>
</blockquote>
<ul>
<li>HAVCS 作者提供的：HAVCS食用说明</li>
</ul>
<blockquote>
<p><a href="https://ljr.im/articles/plugins-havcs-edible-instructions/">https://ljr.im/articles/plugins-havcs-edible-instructions/</a>
样例配置文件如下</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">havcs</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">platform</span>:
</span></span><span style="display:flex;"><span>   - <span style="color:#ae81ff">aligenie</span>
</span></span><span style="display:flex;"><span>   - <span style="color:#ae81ff">dueros</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">http</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">clients</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">aligenievisiter</span>: <span style="color:#ae81ff">Br9opxYY000000</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ha_url</span>: <span style="color:#ae81ff">https://blog.margrop.net</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">device_config</span>: <span style="color:#ae81ff">ui</span>
</span></span></code></pre></div><h1 id="解决问题havcs菜单套娃havcs菜单无限嵌套显示">解决问题：HAVCS菜单套娃（HAVCS菜单无限嵌套显示）</h1>
<p><img src="https://img-blog.csdnimg.cn/img_convert/d764e11c237f13991268c6d5555c185b.png" alt=""></p>
<ol>
<li>进入<code>Supervisor</code>页面，打开加载项<code>File editor</code>，打开目录<code>custom_components/havcs/</code></li>
<li>将<code>index.html</code> 中的 <code>/havcs/</code> 替换为 <code>/havcshtml/</code></li>
<li>将<code>login.html</code> 中的 <code>/havcs/</code> 替换为 <code>/havcshtml/</code></li>
<li>找到<code>http.py</code>中的 <code>class HavcsDeviceView</code>类，查找下面代码段，将下面代码中<code>havcs</code>改为<code>havcshtml</code></li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>hass<span style="color:#f92672">.</span>http<span style="color:#f92672">.</span>register_static_path(<span style="color:#e6db74">&#39;/havcs&#39;</span>, local, <span style="color:#66d9ef">False</span>)
</span></span></code></pre></div><ol start="4">
<li>还是<code>http.py</code>这个文件，查找下面代码段，将下面代码中<code>havcs</code>改为<code>havcshtml</code></li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>config <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;url&#34;</span>: <span style="color:#e6db74">&#39;/havcs/index.html&#39;</span>}<span style="color:#960050;background-color:#1e0010">`</span>
</span></span></code></pre></div><ol start="4">
<li>检查无误后，重启 HA</li>
</ol>
<h1 id="亲测-apple-系列">亲测 Apple 系列</h1>
<p>iCloud设备
<a href="https://github.com/gcobb321/icloud3">https://github.com/gcobb321/icloud3</a></p>
<h1 id="参考文章">参考文章</h1>
<ol>
<li><a href="https://ask.csdn.net/questions/4358468">https://ask.csdn.net/questions/4358468</a></li>
</ol>
        </div>
    </article>
    
    
  
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<div id="gitalk-container" style="margin-top:40px"></div>
<script>
  (function(){
    var gitalk = new Gitalk({
      clientID: '3181fd94e501cc5db0ad',
      clientSecret: 'af1dab79dae02c69296e6615bfcecf47fc8615ee',
      repo: 'margropcomment.margrop.io',
      owner: 'margrop',
      admin: "[\"margrop\"]",
      id: '3104dca1bdaab3cf97d32a59dc3e31213d041195',
      distractionFreeMode: false
    });
    gitalk.render('gitalk-container');
  })();
</script>
  



    <script type="text/javascript" src="https://js.users.51.la/21044367.js"></script>
    <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
    <script>LA.init({id: "1vVTUWl7zoRjnKXi",ck: "1vVTUWl7zoRjnKXi"})</script>
    <script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script>
    <script>
      new LingQue.Monitor().init({id:"202teQt8THXwqyve"});
    </script>
</body>
</html>
