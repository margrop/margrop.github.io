<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>魔都水滴</title>
<link rel="shortcut icon" href="https://blog.margrop.net/favicon.ico?v=1747232555299">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://blog.margrop.net/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="魔都水滴 - Atom Feed" href="https://blog.margrop.net/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-3J2W592DHJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3J2W592DHJ');
</script>


<script type="text/javascript" src="https://js.users.51.la/21044367.js"></script>
<script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id: "1vVTUWl7zoRjnKXi",ck: "1vVTUWl7zoRjnKXi"})</script>
<script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script>
<script>
  new LingQue.Monitor().init({id:"202teQt8THXwqyve"});
</script>
    <meta name="description" content="Programmer, Javaer, Father, Geeker, Huster, Acmer, Wower, Gamer" />
    <meta name="baidu-site-verification" content="code-sVFZ8SER59" />
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://blog.margrop.net">
  <img class="avatar" src="https://blog.margrop.net/images/avatar.png?v=1747232555299" alt="">
  </a>
  <h1 class="site-title">
    魔都水滴
  </h1>
  <p class="site-description">
    A Programmer, A Javaer, A Father, A Geeker, A Huster, A Acmer, A Wower, A Player
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
      
        <a href="https://download.margrop.net" class="menu" target="_blank">
          下载
        </a>
      
    
      
        <a href="/post/favorites" class="menu">
          Link
        </a>
      
    
      
        <a href="/post/github-project-stars" class="menu">
          Github
        </a>
      
    
      
        <a href="https://github-mirrors.margrop.net" class="menu" target="_blank">
          Github加速
        </a>
      
    
      
        <a href="https://docker-mirrors.margrop.net" class="menu" target="_blank">
          Docker加速
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/margrop" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

    
        <div class="post-container">
  
    <article class="post">
      <a href="https://blog.margrop.net/post/ubuntu-add-port-filter-using-iptables/">
        <h2 class="post-title">Ubuntu 22.04 通过ufw / iptables 开放指定端口——20230715更新</h2>
      </a>
      <div class="post-info">
        <span>
          2023-02-26
        </span>
        <span>
          2 min read
        </span>
        
          <a href="https://blog.margrop.net/tag/LKQyesTj8/" class="post-tag">
            # iptables
          </a>
        
          <a href="https://blog.margrop.net/tag/tdsIS5e0xY/" class="post-tag">
            # 防火墙
          </a>
        
          <a href="https://blog.margrop.net/tag/DNB_YDZQwH/" class="post-tag">
            # fuckgfw
          </a>
        
          <a href="https://blog.margrop.net/tag/geF6_y5nQ5/" class="post-tag">
            # gfw
          </a>
        
          <a href="https://blog.margrop.net/tag/Ggz-CmOVr5/" class="post-tag">
            # ubuntu
          </a>
        
      </div>
      
      <div class="post-abstract">
        <h1 id="ubuntu2204-新增防火墙端口">Ubuntu22.04 新增防火墙端口</h1>
<h2 id="查看防火墙状态">查看防火墙状态</h2>
<pre><code>ufw status
</code></pre>
<h2 id="开放22端口">开放22端口</h2>
<pre><code>ufw allow 22
</code></pre>
<h2 id="添加完成查看防火墙状态">添加完成，查看防火墙状态</h2>
<pre><code>ufw status
</code></pre>

      </div>
    </article>
  
    <article class="post">
      <a href="https://blog.margrop.net/post/proxmox-ve-daily-maintain/">
        <h2 class="post-title">Proxmox VE 8.4 日常维护，去掉未订阅的提示，和设置国内源——2025年4月11日更新</h2>
      </a>
      <div class="post-info">
        <span>
          2023-02-26
        </span>
        <span>
          9 min read
        </span>
        
          <a href="https://blog.margrop.net/tag/3JrX_-w-v/" class="post-tag">
            # pve
          </a>
        
          <a href="https://blog.margrop.net/tag/sqHvGSMMZh/" class="post-tag">
            # Proxmox VE
          </a>
        
          <a href="https://blog.margrop.net/tag/8fo9pO_J_6/" class="post-tag">
            # pvekclean
          </a>
        
      </div>
      
      <div class="post-abstract">
        <h1 id="移除未使用的linux内核">移除未使用的Linux内核</h1>
<ul>
<li>若不存在<code>pvekclean</code>，请先安装</li>
</ul>
<pre><code class="language-bash">git clone https://github.com/jordanhillis/pvekclean.git
cd pvekclean
chmod +x pvekclean.sh
</code></pre>
<p>安装完成后执行<code>pvekclean</code>即可</p>
<pre><code class="language-bash">./pvekclean.sh
</code></pre>
<h1 id="日常软件更新命令">日常软件更新命令：</h1>
<pre><code class="language-bash">apt update -y &amp;&amp; apt dist-upgrade -y
</code></pre>
<h1 id="更新pve并安装常用软件">更新PVE，并安装常用软件</h1>
<pre><code class="language-bash">apt-get update &amp;&amp; apt-get install vim lrzsz unzip net-tools curl screen tmux uuid-runtime git -y &amp;&amp; apt dist-upgrade -y
</code></pre>

      </div>
    </article>
  
    <article class="post">
      <a href="https://blog.margrop.net/post/pve-host-virtual-machine-disk-space-monitor-experience-step-two/">
        <h2 class="post-title">PVE 磁盘巡检接入 Uptime Kuma——踩坑 404 的来龙去脉与最终脚本</h2>
      </a>
      <div class="post-info">
        <span>
          2025-05-14
        </span>
        <span>
          4 min read
        </span>
        
          <a href="https://blog.margrop.net/tag/iEcoKkg1ZM/" class="post-tag">
            # UptimeKuma
          </a>
        
          <a href="https://blog.margrop.net/tag/hXrzVxg1pm3/" class="post-tag">
            # Shell
          </a>
        
          <a href="https://blog.margrop.net/tag/AUKoSy9qW28/" class="post-tag">
            # 运维监控
          </a>
        
          <a href="https://blog.margrop.net/tag/Vf0mIwJFb/" class="post-tag">
            # lvm
          </a>
        
          <a href="https://blog.margrop.net/tag/MJ-EKdaAGl/" class="post-tag">
            # crontab
          </a>
        
          <a href="https://blog.margrop.net/tag/sqHvGSMMZh/" class="post-tag">
            # Proxmox VE
          </a>
        
      </div>
      
      <div class="post-abstract">
        <blockquote>
<p><strong>写在前面</strong><br>
前一篇文章教大家把 PVE 宿主机的 LVM‑Thin 用量推到 Uptime Kuma。<br>
有同学照做后 <code>curl</code> 推送却报 <strong>404</strong>。本文完整复盘原因、修正脚本，并给出 <strong>可选升级方案</strong>。零基础跟着做，保证一次成功。</p>
</blockquote>
<hr>
<h2 id="1-现象curl-404">1 现象：<code>curl … 404</code></h2>
<pre><code class="language-bash">curl -fsS --retry 3 \
     &quot;${PUSH_URL}?status=up&amp;msg=OK&quot; \
     -H 'Content-Type: application/json' \
     --data-raw &quot;$result&quot;
# ↳ curl: (22) The requested URL returned error: 404
</code></pre>

      </div>
    </article>
  
    <article class="post">
      <a href="https://blog.margrop.net/post/pve-host-virtual-machine-lvm-disk-space-monitor-experience/">
        <h2 class="post-title">PVE 宿主机磁盘空间监控——从踩坑到接入 Uptime Kuma 的完整小白教程</h2>
      </a>
      <div class="post-info">
        <span>
          2025-05-14
        </span>
        <span>
          6 min read
        </span>
        
          <a href="https://blog.margrop.net/tag/iEcoKkg1ZM/" class="post-tag">
            # UptimeKuma
          </a>
        
          <a href="https://blog.margrop.net/tag/hXrzVxg1pm3/" class="post-tag">
            # Shell
          </a>
        
          <a href="https://blog.margrop.net/tag/AUKoSy9qW28/" class="post-tag">
            # 运维监控
          </a>
        
          <a href="https://blog.margrop.net/tag/Vf0mIwJFb/" class="post-tag">
            # lvm
          </a>
        
          <a href="https://blog.margrop.net/tag/MJ-EKdaAGl/" class="post-tag">
            # crontab
          </a>
        
          <a href="https://blog.margrop.net/tag/RMp0xqYcWE/" class="post-tag">
            # bash
          </a>
        
          <a href="https://blog.margrop.net/tag/sqHvGSMMZh/" class="post-tag">
            # Proxmox VE
          </a>
        
      </div>
      
      <div class="post-abstract">
        <blockquote>
<p><strong>目标读者</strong><br>
这篇文章写给刚刚接触 Proxmox VE（简称 <strong>PVE</strong>）且希望“按步骤照做就能跑”的同学。整篇内容力求：</p>
<ul>
<li>解释 <em>为什么</em> 会遇到问题</li>
<li>每一步都给出 <strong>完整命令</strong></li>
<li>出错时给出 <strong>排查思路</strong></li>
</ul>
</blockquote>

      </div>
    </article>
  
    <article class="post">
      <a href="https://blog.margrop.net/post/setting-up-v2ray-and-caddy-on-alpine-linux-lxc-container/">
        <h2 class="post-title">在 Alpine Linux 上使用 LXC 容器搭建 V2Ray 和 Caddy 服务，提供基于 IPv6 的 SSL WebSocket 代理</h2>
      </a>
      <div class="post-info">
        <span>
          2024-07-03
        </span>
        <span>
          5 min read
        </span>
        
          <a href="https://blog.margrop.net/tag/rSdj8nM5C/" class="post-tag">
            # lxc
          </a>
        
          <a href="https://blog.margrop.net/tag/0g2wAftmLT/" class="post-tag">
            # alpine
          </a>
        
          <a href="https://blog.margrop.net/tag/zvheG_FP7o/" class="post-tag">
            # SSL
          </a>
        
          <a href="https://blog.margrop.net/tag/2_1Q_ycPtm/" class="post-tag">
            # ipv6
          </a>
        
          <a href="https://blog.margrop.net/tag/4rp5THLHDl/" class="post-tag">
            # Linux
          </a>
        
          <a href="https://blog.margrop.net/tag/LLopYIvG2U/" class="post-tag">
            # websocket
          </a>
        
          <a href="https://blog.margrop.net/tag/eUjEbPfzXe/" class="post-tag">
            # caddy2
          </a>
        
          <a href="https://blog.margrop.net/tag/eWdIa5th62/" class="post-tag">
            # linux
          </a>
        
          <a href="https://blog.margrop.net/tag/Y1qFIelv0r/" class="post-tag">
            # proxy
          </a>
        
      </div>
      
      <div class="post-abstract">
        <h3 id="前言">前言</h3>
<p>在现代互联网环境中，代理服务变得越来越重要，特别是在需要突破地域限制和提升隐私保护的时候。本文将详细介绍如何在 Alpine Linux 3.19 操作系统的 LXC 容器上，使用 V2Ray 和 Caddy 来搭建一个通过 IPv6 和域名提供的 SSL WebSocket 代理服务。</p>
<h3 id="环境准备">环境准备</h3>
<ol>
<li><strong>确保你的 LXC 容器运行并已分配 IPv6 地址</strong>。</li>
<li><strong>确保你的域名已解析到你的 LXC 容器的 IPv6 地址</strong>。</li>
</ol>

      </div>
    </article>
  
    <article class="post">
      <a href="https://blog.margrop.net/post/automating-connections-to-ctyun-desktop-using-python/">
        <h2 class="post-title">天翼云电脑永不休眠方法高科技版本（基于Python）</h2>
      </a>
      <div class="post-info">
        <span>
          2024-06-18
        </span>
        <span>
          4 min read
        </span>
        
          <a href="https://blog.margrop.net/tag/ntpouUsn1/" class="post-tag">
            # ctyun
          </a>
        
          <a href="https://blog.margrop.net/tag/RNNdRtMmt7/" class="post-tag">
            # 天翼云
          </a>
        
          <a href="https://blog.margrop.net/tag/HbzSfm8Vn_/" class="post-tag">
            # 云电脑
          </a>
        
          <a href="https://blog.margrop.net/tag/8PAQh4TYDW/" class="post-tag">
            # chrome
          </a>
        
          <a href="https://blog.margrop.net/tag/QAhH7y1d6/" class="post-tag">
            # python
          </a>
        
      </div>
      
      <div class="post-abstract">
        <h4 id="原理定期连接天翼云桌面需小于1小时间隔">原理：定期连接天翼云桌面（需小于1小时间隔）</h4>
<h5 id="步骤一获取请求数据">步骤一：获取请求数据</h5>
<ol>
<li>
<p><strong>打开Chrome浏览器的开发者工具</strong>：</p>
<ul>
<li>在Chrome浏览器中按<code>F12</code>或右键选择<code>检查</code>打开开发者工具。</li>
</ul>
</li>
<li>
<p><strong>访问并登录天翼云桌面</strong>：</p>
<ul>
<li>访问<code>https://pc.ctyun.cn</code>，并使用你的账号登录云电脑。</li>
</ul>
</li>
<li>
<p><strong>复制connect请求的curl命令</strong>：</p>
<ul>
<li>在开发者工具中，选择<code>Network</code>标签，找到并点击名为<code>connect</code>的请求。</li>
<li>右键点击该请求，选择<code>Copy as cURL (cmd)</code>。</li>
</ul>
</li>
<li>
<p><strong>获取localStorage中的authData</strong>：</p>
<ul>
<li>在开发者工具中，选择<code>Application</code>标签。</li>
<li>在左侧栏中找到<code>Local Storage</code>并选择<code>https://pc.ctyun.cn</code>。</li>
<li>找到<code>authData</code>键，复制其对应的值。</li>
</ul>
</li>
</ol>

      </div>
    </article>
  
    <article class="post">
      <a href="https://blog.margrop.net/post/how-to-quickly-configure-fail2ban-in-proxmox-ve/">
        <h2 class="post-title">在Proxmox VE中快速设置Fail2ban防止多次登录失败的有效方法</h2>
      </a>
      <div class="post-info">
        <span>
          2024-06-18
        </span>
        <span>
          2 min read
        </span>
        
          <a href="https://blog.margrop.net/tag/CXLksV7rb0/" class="post-tag">
            # fail2ban
          </a>
        
          <a href="https://blog.margrop.net/tag/4rp5THLHDl/" class="post-tag">
            # Linux
          </a>
        
          <a href="https://blog.margrop.net/tag/3JrX_-w-v/" class="post-tag">
            # pve
          </a>
        
          <a href="https://blog.margrop.net/tag/sqHvGSMMZh/" class="post-tag">
            # Proxmox VE
          </a>
        
      </div>
      
      <div class="post-abstract">
        <p>这里简要介绍了如何在Proxmox VE中设置Fail2ban以暂时阻止多次错误登录尝试的IP地址。</p>
<h3 id="安装fail2ban">安装Fail2ban</h3>
<p>在Proxmox VE主机上作为root执行以下命令：</p>
<pre><code class="language-sh">apt update
apt install fail2ban
</code></pre>
<h3 id="配置基础设置">配置基础设置</h3>
<p>建议使用<code>/etc/fail2ban/jail.local</code>文件，其设置优先于<code>jail.conf</code>。使用以下命令复制模板：</p>
<pre><code class="language-sh">cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local
</code></pre>

      </div>
    </article>
  
    <article class="post">
      <a href="https://blog.margrop.net/post/iptv-sources-from-github/">
        <h2 class="post-title">iptv-sources 源收集（From Github）——2024/6/10更新</h2>
      </a>
      <div class="post-info">
        <span>
          2024-06-10
        </span>
        <span>
          176 min read
        </span>
        
          <a href="https://blog.margrop.net/tag/lYmBPiCw0F/" class="post-tag">
            # iptv
          </a>
        
          <a href="https://blog.margrop.net/tag/lq8viaX_t/" class="post-tag">
            # github
          </a>
        
      </div>
      
      <div class="post-abstract">
        <h1 id="iptv-sources">iptv-sources</h1>
<p>Sources are from:</p>
<ul>
<li><a href="https://epg.pw/test_channel_page.html">https://epg.pw/test_channel_page.html</a></li>
<li><a href="https://github.com/iptv-org/iptv">iptv.org</a></li>
<li><a href="https://github.com/YueChan/Live">YueChan/Live</a></li>
<li><a href="https://github.com/YanG-1989/m3u">YanG-1989/m3u</a></li>
<li><a href="https://github.com/fanmingming/live">fanmingming/live</a></li>
<li><a href="https://github.com/qwerttvv/Beijing-IPTV">qwerttvv/Beijing-IPTV</a></li>
<li><a href="https://github.com/joevess/IPTV">joevess/IPTV</a></li>
<li><s><a href="https://github.com/Meroser/IPTV">Meroser/IPTV</a></s> The project content has been removed by Author</li>
</ul>
<p>EPG Sources are from:</p>
<ul>
<li><a href="https://github.com/fanmingming/live">fanmingming/live</a></li>
<li><a href="https://diyp1.112114.xyz">112114.xyz</a></li>
<li><a href="http://epg.51zmt.top:8000/">epg.51zmt.top:8000</a></li>
</ul>
<p>See <a href="https://m3u.ibert.me">https://m3u.ibert.me</a> to get more.</p>

      </div>
    </article>
  
    <article class="post">
      <a href="https://blog.margrop.net/post/cloudflare-accelerate-github-speed/">
        <h2 class="post-title">利用cloudflare搭建gh-proxy加速github</h2>
      </a>
      <div class="post-info">
        <span>
          2024-06-10
        </span>
        <span>
          2 min read
        </span>
        
          <a href="https://blog.margrop.net/tag/aG22LuIAl/" class="post-tag">
            # worker
          </a>
        
          <a href="https://blog.margrop.net/tag/cpWE28iGP/" class="post-tag">
            # cloudflare
          </a>
        
          <a href="https://blog.margrop.net/tag/BfZLvwjCug/" class="post-tag">
            # mirror
          </a>
        
          <a href="https://blog.margrop.net/tag/DNB_YDZQwH/" class="post-tag">
            # fuckgfw
          </a>
        
          <a href="https://blog.margrop.net/tag/lq8viaX_t/" class="post-tag">
            # github
          </a>
        
      </div>
      
      <div class="post-abstract">
        <p>前面几期有玩过青龙面板，但是如果要拉GitHub库就会遇到网络不行拉取失败的情况，平时github下文件速度也是奇慢无比，就用免费的cloudflare搭建gh-proxy加速GitHub。</p>
<p><strong>一、前提准备</strong></p>
<p>需要提前准备好cloudflare账号以及一个域名（可选），需要白嫖域名可以参考往期文章《<a href="http://mp.weixin.qq.com/s?__biz=MzIxMjE1NDQxNA==&amp;mid=2247483945&amp;idx=1&amp;sn=abe651003c71d37c25b29cd6ea54a775&amp;chksm=974b2368a03caa7e8ccdab8d0d104076540990a643731bd60bb9c3bbb04dc81c83dba4eedad9&amp;scene=21#wechat_redirect">免费申请注册eu.org二级域名</a>》</p>

      </div>
    </article>
  
    <article class="post">
      <a href="https://blog.margrop.net/post/cloudflare-workers-slove-docker-mirrors-blocked/">
        <h2 class="post-title">cloudflare workers 解决docker无法拉取镜像问题</h2>
      </a>
      <div class="post-info">
        <span>
          2024-06-10
        </span>
        <span>
          8 min read
        </span>
        
          <a href="https://blog.margrop.net/tag/aG22LuIAl/" class="post-tag">
            # worker
          </a>
        
          <a href="https://blog.margrop.net/tag/cpWE28iGP/" class="post-tag">
            # cloudflare
          </a>
        
          <a href="https://blog.margrop.net/tag/DNB_YDZQwH/" class="post-tag">
            # fuckgfw
          </a>
        
          <a href="https://blog.margrop.net/tag/4oXhRYMxz/" class="post-tag">
            # docker
          </a>
        
      </div>
      
      <div class="post-abstract">
        <p>由于某些原因，目前国内无法正常拉取docker镜像，去年写的加速拉取镜像的办法也没法用，困难总比办法多（不是），干脆新写一篇教程，利用cloudflare workers 解决docker无法拉取镜像问题。</p>
<p>本篇利用cloudflare workers来解决无法拉取镜像问题，关于cloudflare这里不再过多介绍，cloudflare workers服务也是免费，不懂的童鞋可以自行翻看往期文章《<a href="http://mp.weixin.qq.com/s?__biz=MzIxMjE1NDQxNA==&amp;mid=2247484002&amp;idx=1&amp;sn=5cf3b8876df7d871774641c5f24261d7&amp;chksm=974b2323a03caa35e053659efda5e285635f83d011cadf54e7c05288f40a4df1811fcf0338ff&amp;scene=21#wechat_redirect">cloudflare加快github下载</a>》。<strong>如果看完本篇也不想动手，也可以在后台回复“jsdc”获取我搭建好的公共服务地址</strong>。</p>

      </div>
    </article>
  
</div>

    
        <div class="pagination-container">
  
  
    <a href="https://blog.margrop.net/page/2" class="next-page">下一页</a>
  
</div>

    
        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://blog.margrop.net/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>
<script type="text/javascript" src="https://js.users.51.la/21044367.js"></script>

      </div>
    </div>
  </body>
</html>
